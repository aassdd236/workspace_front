<!DOCTYPE html>
<html lang="ko">
    <head>
    <meta charset="UTF-8">
    <title>Insert title here</title>

    <style>

    </style>


    </head>

    <body>
        <form id="guestForm" action="http://localhost:8888/mysite6/guestbook/add" method="get">
            <table border="1" width="540px">
                <tr>
                    <td>이름</td><td><input type="text" name="name"></td>
                    <td>비밀번호</td><td><input type="password" name="pw"></td>
                </tr>
                <tr>
                    <td colspan="4"><textarea cols="72" rows="5" name="content"></textarea></td>
                </tr>
                <tr>
                    <td colspan="4"><button id="btnWrite" type="submit">등록</button></td>
                </tr>
            </table>
        </form>
        <br>

    </body>

    <script>
        //DOM tree가 생성되었을 때
        document.addEventListener("DOMContentLoaded", function(){

            let guestForm = document.querySelector("#guestForm");
            guestForm.addEventListener("submit", function(event){
                console.log("전송 버튼 클릭");
                event.preventDefault();

                let nameTag = document.querySelector('[name= "name"]');
                let name = nameTag.value.trim();
                console.log(name);

                if(name == ""){ // 이름을 입력하지 않으면 폼전송 하지말것
                    event.preventDefault(); //폼기능 제한
                    window.alert("이름을 입력해 주세요"); //경고장
                    return false; //이벤트 전파를 막음
                }

                //패스워드 체크
                let pwTag = document.querySelector('[name = "pw"]');
                let pw = pwTag.value.trim();
                if(pw == ""){
                    event.preventDefault(); //폼기능 제한
                    window.alert("패스워드를 입력해 주세요"); //경고장
                    return false; //이벤트 전파를 막음
                }

                //alert("전송완료");

                //return true > 보통 쓰지 않음
            });

        });


    </script>

</html>